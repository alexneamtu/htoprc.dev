name = "htoprc-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Development settings
[dev]
port = 8787

# ============================================
# Staging Environment
# ============================================
[env.staging]
name = "htoprc-api-staging"
routes = [
  { pattern = "api.htoprc.staging.alexneamtu.top", custom_domain = true }
]

[[env.staging.d1_databases]]
binding = "DB"
database_name = "htoprc-db-staging"
database_id = "placeholder-staging-db-id"

# ============================================
# Production Environment
# ============================================
[env.production]
name = "htoprc-api-production"
routes = [
  { pattern = "api.htoprc.dev.alexneamtu.top", custom_domain = true }
]

[[env.production.d1_databases]]
binding = "DB"
database_name = "htoprc-db-production"
database_id = "placeholder-production-db-id"

# ============================================
# Shared Configuration Notes
# ============================================
# Environment variables (set via wrangler secret)
# CLERK_SECRET_KEY
# GITHUB_TOKEN

# Cron triggers for scraper (will enable later)
# [triggers]
# crons = ["0 3 * * *"]  # Daily at 3am UTC
